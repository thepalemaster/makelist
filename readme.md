 # makelist
makelist - это простая утилита, которая создаёт список файлов текущего каталога (включая все подкаталоги), имена которых соответствуют определённым условиям. Условия для имён файлов задаются опциями(командами) командной строки в виде пары: опция и аргумент к ней. Список файлов сохраняется в файле `Список.txt` текущего каталога. 
Программа написана на C++ с использованием библиотек Qt. 
## Список опций:  
* `-s`, `--start` имя файла начинается  
* `-e`, `--end` имя файла кончается  
* `-c`, `--contains` имя файла содержит  
* `-r`, `--regexp` по соответствию регулярному выражению  
Опции могут иметь следующие модификаторы-префиксы:  
* `n` - не должен соответствовать, инвертирует условие  
* `+` - нестрогое требование, может отсутствовать в имени файла, но в случае соответствия добавляется в список, оставшиеся условия проверяться не будут.  
* `d` - удалять найденное совпадение из имени файла перед добавлением в список
* `f` - работает так же как префикс `d`, но опция с префиксом `f` не как учитывается при составлении списка   
* `i` - игнорировать регистр, установлено по умолчанию, как правило указывать этот префикс не нужно  
* `I` - не игнорировать регистр  
### Примечания  
Опции и аргументы к ним разделяются пробелами, опции без аргументов игнорируются.  
Модификаторы-префиксы могут применяться одновременно, порядок символов не важен, для взаимоисключающих модификаторов установится тот который указан последним.  
Если опции несколько в список попадут только те файлы, которые соответствуют всем опциям, либо соответствует хотя бы одной опций с префиксом `+`.  
Порядок опций важен, проверка условий будет производиться в том же порядке что, в котором они были заданы при вызове программы. В случае, если   
Модифицирующие опции (с префиксами `d` или `f`) меняют имя файла для последующих опций. Например команда `-fe .txt -e .txt` не добавит файлы с список, так как вторая опция будет видеть имя файла в отредактированном виде, без `.txt` на конце.  
Если аргумент содержит пробелы, обратные слеши и другие недопустимые символы для командной строки его необходимо заключить в кавычки.   

## Примеры использования 
`makelist -s aa -c cc -ne .txt`  
Для попадания в список файл должен начинаться с `aa` содержать `cc` и не заканчиваться на `.txt`.  
`makelist --n+dstart X -e .txt`  
Файл обязательно попадёт в список, если не начинается с большой буквы X, либо если оканчивается на `.txt`. При этом опция `-n+ds X` удалит начальную букву X и она будет отсутствовать если файл попадёт в список в соответствии со второй опцией.  
`makelist -Ir "^АБВ|^ГДЕ" -fc .txt`  
Файл попадёт в список, если соответствует регулярному выражению (начинается с АБВ или ГДЕ), окончание `.txt` при составлении списка отбрасывается.  

## Тестирование  
Программа тестируется с помощью небольшого Python-скрипта `run-test.py` в каталоге test. Скрипт предполагает, что результат сборки под именем makelist лежит в каталоге build с каталогом test по соседству.  
